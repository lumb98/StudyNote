# 笔试相关

ACM的笔试需要自己写输入输出，已经因为这个被坑好多次了，刚刚做了中兴捧月的比赛，甚至连标准输出都没有，只有是否通过，这种情况下可真是对基本功的地狱级考验，所以在这里总结一些在ACM模式下常用的东西，比如输入输出什么的。\



## `cin`的一些基本知识

当我们使用`cin`的时候，我们实际上是将其后面的字符读入缓冲区，`cin` 会无视空格、制表符等间隔符号，所以`cin`是无法直接读取换行符的。但如果我们输入一个正常字符再回车就可以识别到换行符，注意正常情况下当`cin`读取到间隔符或者换行符时，是会结束本次输入的。此外当我们输入一个字符之后再回车，实际上按下回车时输入的换行符也被加载进了缓冲区，`cin`读取到换行符时就会停止，但他并没有将换行符读入，之所以后面我们再`cin`时没有换行符，是因为我们再次调用`cin`之前会将缓冲区刷新，如果我们想要读取任何字符，可以使用`cin.get()`来进行读取，它可以无差别的从缓冲区读取一个字节的字符，我们可以利用这个函数来读取输入末尾的换行符来识别某一行输入的结束。

#### `cin.get()`

没有参数时

```cpp
char a=cin.get();//从缓冲区读取一个字符并返回。
```

有一个参数时

```cpp
char a;
cin.get(a);//从缓冲区读取一个字符存入a，如果读取成功会返回true
```

有三个参数时

```cpp
char a[20];
char *b[20];
cin.get(a,10,',');//输入十个字符到a中，如果遇到','则停止输入。
```

#### `getline()`

`getline()`函数可以读取一行流输入到字符串，包括空格也能读入，实际上它不止可以读取一行。

此外在C++种`cin.getline()`用法与此几乎相同。但要注意的是前者是string流，而后者则是iostream流。

两个参数时

```cpp
string a;
getline(cin,a);//读取一行流输入到a中，知道遇到换行符。
```

三个参数时

```cpp
string a;
getline(cin,a,'f');//读取流输入每次换行符会检查输入内容中是否有第三个参数中的字符，如果有则将该字符前所以的流输入存入到a中，包括之前的换行符。
```

#### `getchar()`

```cpp
char c=getchar();//获取一个字符 bi
```



## 几种C++输入方式

### 标准输入 ` std::cin`

当中间有空格时，例如想要输入`1 2 3`，注意其中是有空格隔开的，实际上也可以使用回车将其分隔，当然tab或其他分隔符也可以达到该效果，我们可以使用如下的形式。`cin`无视各种分隔符。

```cpp
int a,b,c;
std::cin>>a>>b>>c;
```

需要注意的是这种方法适合**输入的数量固定**的情况。

如果不想将空格字符略过，可以使用这种形式`cin>>noskipws>>input`这样输入就会将空白字符也包含进去，这样就可以连带空字符也输入到char了。

```cpp
char d,e,f;
cin >> noskipws >> d >> e >> f;
cout << d << " " << e << " " << f << endl;
```

但要注意的是，这种方式好像不能用在字符串的输入中。

```cpp
string g;
cin >> noskipws>> g;
cout << g << endl;
//输入：hello world (回车)
//输出：hello
```

如果想要输入带有空格是字符串可以使用后面说的另外一种方式`getline()`方法。

```cpp
string a;
getline(cin, a);
cout << a << endl;
```



若输入的数量不固定时可以采用如下方式

```cpp
vector<int> nums;
int num;
while(cin>>num){
    nums.push_back(num);
    if(getchar()=='\n')
        break;
}
```

或者第二种方式

```cpp
vector<int> nums;
int num;
while(cin>>num){
    nums.push_back(num);
    if(cin.get()=='\n')
        break;
}
```

这二者的主要区别就在`cin.get()`和`getchar()`上面，在这种情况下使用是没有太大差别的。

### 记一种输入方式

```
255.255.255.0
192.168.1.0
192.168.1.111
```



之前在做一次处理IP和子网掩码的代码的时候，本来想着把输入的分成4个`int`存入`vector`，但是后来发现，不行，我最开始的做法是把它们用`getline(cin,temp,'.')`这种方式处理，它的输入方式是上面这种，但是我最后发现它在每行最后一个的时候，会把换行符一起存到`temp`中，再用`sstream`将`string`转换成int中的时候，就会出错，导致少了换行符后的第一个，最后看了答案，其他人用了这种方法。

```cpp
char c;
vector<unsigned int> input(4);
cin>>input[0]>>c>>input[1]>>c>>input[2]>>c>>input[3];
```

重复这样三次就完成了三行数据的输入。原因可能是因为`cin`会自己识别`int`类型，然后输入进来，当到了能输入`int`的字符前就停止输入，然后再用一个c来把没用的东西吃掉，就好了。



### 指针数组和数组指针

其实主要要根据运算符的优先级来进行判断，`int *p[5];`时，因为`[]`运算符优先级最高，所以`p`先与`[]`结合，构成了一个数组的定义，`int`再与`*`结合修饰说明数组内的元素类型，所以这就是一个里面包含五个`int`类型指针的数组，

而`int (*p)[5];`时`()`运算符的优先级更高，所以先是`*`与`p`结合，修饰一个指针`p`然后再与`[]`结合，说明是一个数组，最后是数组里面的内容被`int`修饰，所以这是一个指向数组的指针，这个数组里面包含五个int类型数据。



## `while(n--)`和`while(--n)`

`while(n--)`运行n次

`while(--n)`运行n-1次